# 挑選適當的欄位Select()

<div class="alert white">
cheatsheet截圖對照<a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample"><i class="fa fa-image"></i></a>
</div>

```{r, eval=TRUE, echo=FALSE}
library(htmltools)
HTML('
<div class="collapse" id="collapseExample">
<h3>第一部分</h3>
<img src="./graph/select.png" style="width:50%">
</div>
     ')
```

#### Select 是針對欄位(variables)做子集合{-}

```{r, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE)
```

```{r, echo=FALSE, include=TRUE}
klippy::klippy()
```

```{r, include=FALSE}
library(dplyr)
library(nycflights13)
library(SportsAnalytics)
library(tibble)
fetch_NBAPlayerStatistics("17-18") -> NBA1718
```


1. 基本取法
```{r}
#若我想看每一個航班的基本資料，包含起飛與目的地
flights %>% select(year,month,day,carrier,flight,tailnum,origin,dest)
```

2. 取連續某幾行的欄位
```{r}
#跟上面的寫法，有什麼異同？
flights %>% select(year:day,carrier:dest)
```

3. 取特定類型的欄位
```{r}
#若我有想看有關起飛與抵達的資料，contains()，就能派上用場，當然也有其他內容，請參考cheatsheet
flights %>% select(contains("dep"), contains("arr"))
```

4. 去掉某些變數(drop certain variables)
```{r}
#若我留意有些變數，對後續分析沒有幫助...
flights %>% select(-c(time_hour))
```

```{r}
#一次可以去掉多個變數嗎？
flights %>% select(-c(time_hour,tailnum,flight))
```

5. everthing()
```{r}
#everything()，意思是all variables的意思。
#稍等與mutate()一起使用可以提升資料整理的效率性。
flights %>% select(everything())
```

### 範例{-}

> 若完成，請直接貼到open chat

1. 若有一位買家對於這32台車子很有興趣，特別是在省油表現（Miles/(US) gallon, mpg)，以及馬力表現(hp, Gross horsepower)有很大的興趣，你要怎麼整理資料給他？

```{r, eval=FALSE}
mtcars
```

```{r, eval=FALSE}
mtcars %>% select(car_name, mpg, hp)
```

### 自主練習{-}
1. 若有一名球隊總管，很重視防守，他想要查一下聯盟中誰防守比較好。需要其名字(Name)、所屬隊伍(Team)、守備位置(Position)， 他搶了幾個籃板球(TotalRebounds)，有幾次抄球 (Steals)，請問應該怎麼準備資料？

```{r, echo=FALSE,include=FALSE}
NBA1718 %>% select(League:Position, TotalRebounds,Steals)
```




